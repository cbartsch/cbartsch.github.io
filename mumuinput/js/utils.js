"use strict";define(["constants"],function(e){var t={};return t.requestFullscreen=function(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},t.isInFullscreen=function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},t.clamp=function(e,t,n){return Math.max(Math.min(e,n),t)},t.setCookie=function(t,n,r){o||(r=e.DEFAULT_COOKIE_EXPIRATION);var o=new Date;o.setTime(o.getTime()+24*r*60*60*1e3);var i="expires="+o.toUTCString();document.cookie=t+"="+n+"; "+i},t.getCookie=function(e,t){for(var n=e+"=",r=document.cookie.split(";"),o=0;o<r.length;o++){for(var i=r[o];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(n))return i.substring(n.length,i.length)}return t},t.addClass=function(e,t){var n=e.getAttribute("class");(!n||n.indexOf(t)<0)&&e.setAttribute("class",n+" "+t)},t.removeClass=function(e,t){var n=e.getAttribute("class");n.indexOf(t)>=0&&e.setAttribute("class",n.replace(t,""))},t.eachElement=function(e,t){for(var n=0;n<e.length;n++)t(e.item(n))},t.lockLandscapeOrientation=function(){function n(e){var n=Math.max(window.outerWidth,window.outerHeight),r=Math.min(window.outerWidth,window.outerHeight),o="transform: rotate("+e+"deg);";t.isInFullscreen()||(o+="transform-origin: "+r/2+"px "+r/2+"px;"),document.body.setAttribute("style","width:"+n+"px; height:"+r+"px;"+o)}var r=90;window.addEventListener("resize",function(){var o=0;t.getOrientation()==e.PORTRAIT?o=r:r=t.getOrientationData(),n(o)}),t.getOrientation()==e.PORTRAIT&&n(90)},t.getQueryParameters=function(){var e={},t=window.location.search.substring(1),n=t.split("&");return n.forEach(function(t){var n=t.split("=");e[n[0]]=decodeURIComponent(n[1])}),e},t.getOrientation=function(){return 0===t.getOrientationData()?e.PORTRAIT:e.LANDSCAPE},t.getOrientationData=function(){return window.orientation},t.randInt=function(e){return~~(Math.random()*e)},t.initWebGL=function(e){var t=void 0;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(n){}return t||(console.log("Unable to initialize WebGL. Your browser may not support it."),t=null),t},t.getShader=function(e,t){var n=void 0,r=document.getElementById(t);if(r){for(var o="",i=r.firstChild;i;)i.nodeType==i.TEXT_NODE&&(o+=i.textContent),i=i.nextSibling;"x-shader/x-fragment"==r.type?n=e.createShader(e.FRAGMENT_SHADER):"x-shader/x-vertex"==r.type&&(n=e.createShader(e.VERTEX_SHADER)),n&&(e.shaderSource(n,o),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)||(console.log("An error occurred compiling the shaders: "+e.getShaderInfoLog(n)),n=void 0))}return n},t.loadShaderProgram=function(e,n,r){var o=t.getShader(e,n),i=t.getShader(e,r),a=e.createProgram();return e.attachShader(a,o),e.attachShader(a,i),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||(console.log("Unable to initialize the shader program."),a=void 0),a},t.hexToRgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16)/255,g:parseInt(t[2],16)/255,b:parseInt(t[3],16)/255}:null},t});