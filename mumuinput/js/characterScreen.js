"use strict";define(["shadedTextureCanvas","utils","constants"],function(e,n,t){var o,r,c,a,s={};return s.getScreenElement=function(){return document.getElementById("character-config-screen")},s.init=function(){function t(e,t,o,r){function s(e,s){e.onclick=function(){n.requestFullscreen(document.body),i=(i+s+o)%o,l[t]=i,r?c.src="../img/characters/body"+i+".png":a.src="../img/characters/head"+i+".png"}}var i=0,u=document.getElementById(e+"-inc"),d=document.getElementById(e+"-dec");s(u,1),s(d,-1)}function i(e,t,o){function r(e,n,t,o){this.image=e,this.color=n,this.x=t,this.y=o+20}function c(e){i.style.color=e,a=e,l[t]=parseInt(e.substring(1),16),o?u(e,"greenSubstitutionColor"):u(e,"redSubstitutionColor")}var a,s=document.getElementById(e+"-cont"),i=document.getElementById(e+"-text"),d=[new r("orange","#f49320",0,37),new r("turquoise","#22b573",0,107),new r("yellow","#ede128",63,0),new r("green","#8cc63f",63,70),new r("violet","#6366ff",63,140),new r("red","#eb1d25",126,37),new r("blue","#29abe2",126,107),new r("pink","#ed4e94",126,177),new r("white","#ffffff",189,140)];d.forEach(function(e){c(a||e.color);var t=document.createElement("button");t.className="color-btn "+e.image+"-button",t.style.left=e.x+"px",t.style.top=e.y+"px",t.onclick=function(){c(e.color),n.requestFullscreen(document.body)},s.appendChild(t)})}function u(e,t){var c=n.hexToRgb(e);console.log("RGB: ",c),o[t]=[c.r,c.g,c.b,1],r[t]=[c.r,c.g,c.b,1],o.draw(),r.draw()}var l={primaryColor:null,secondaryColor:null,head:0,torso:0};document.getElementById("start").addEventListener("click",function(){s.success(l.primaryColor,l.secondaryColor,l.head,l.torso)}),t("head","head",9,!1),t("torso","torso",4,!0),o=new e(document.getElementById("character-canvas")),o.blueSubstitutionColor=[1,1,1,1],c=new Image,c.onload=function(){o.setImage(c),o.draw()},c.src="../img/characters/body0.png",r=new e(document.getElementById("head-canvas")),r.blueSubstitutionColor=[1,1,1,1],a=new Image,a.onload=function(){r&&(r.setImage(a),r.draw())},a.src="../img/characters/head0.png",i("primary-color","primaryColor",!0),i("secondary-color","secondaryColor",!1)},s.success=function(e,n,t,o){},s.fail=function(){},s});